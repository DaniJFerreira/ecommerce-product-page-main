(()=>{"use strict";class t{static forEach(t,e,i=null){if("[object Object]"===Object.prototype.toString.call(t))for(const[s,n]of Object.entries(t))e.call(i,n,s,t);else for(let s=0;s<t.length;s++)e.call(i,t[s],s,t)}}const e=JSON.parse('{"E":[{"id":"Main-image","src":"../assets/image-product-1.jpg","alt":"Main Image"},{"id":"Image-one","src":"../assets/image-product-1.jpg","className":"grid-image","alt":"Image One"},{"id":"Image-two","src":"../assets/image-product-2.jpg","className":"grid-image","alt":"Image Two"},{"id":"Image-three","src":"../assets/image-product-3.jpg","className":"grid-image","alt":"Image Three"},{"id":"Image-four","src":"../assets/image-product-4.jpg","className":"grid-image","alt":"Image four"}]}');let i=document.querySelector(".div-16"),s=document.querySelector(".listCart"),n=document.querySelector(".icon-cart"),a=document.getElementById("cartTab"),l=document.querySelector(".icon-cart span"),c=[],d=[];new class{constructor(e,i,s){this.navbar=document.querySelectorAll(e),this.hamburgers=document.querySelectorAll(i),this.navItem=document.querySelectorAll(".navitems"),this.isToggleActive=!1,this.breakpoint=s,this.overlay=null,window.addEventListener("resize",this.handleResize.bind(this)),window.dispatchEvent(new Event("resize")),t.forEach(this.hamburgers,(t=>{t.addEventListener("click",(t=>{this.toggleMenu(t),this.navbar.forEach((t=>{t.classList.toggle("navbar-slide-out")}))}))})),this.createOverlay()}createOverlay(){this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),document.body.appendChild(this.overlay)}toggleOverlay(t){t?this.overlay.classList.add("overlay-visible"):this.overlay.classList.remove("overlay-visible")}toggleVisible(e,i){t.forEach(e,(t=>{i?t.classList.add("hidden"):t.classList.remove("hidden")}))}toggleMenu(t){let e=this.isToggleActive;if(this.isToggleActive=!!t&&t.currentTarget.classList.toggle("is-active"),e&&!this.isToggleActive){const t=window.innerWidth>this.breakpoint;this.toggleVisible(this.navbar,!t),this.toggleOverlay(!1)}else!e&&this.isToggleActive&&(this.toggleVisible(this.navbar,!1),this.toggleOverlay(!0));t&&t.preventDefault()}handleResize(){const t=window.innerWidth>this.breakpoint;this.toggleVisible(this.hamburgers,t),this.isToggleActive||this.toggleVisible(this.navbar,!t)}}(".navitems",".hamburger",991),new function(){let t=0,i=e.E,s=null;const n=document.getElementById("gallery"),a=document.getElementById("modal"),l=document.querySelector(".featured-image");function c(t){const{src:e,alt:s,class:n}=i[t];let a=document.getElementById("Main-image");a&&(a.src=e,a.alt=s,a.class=n)}function d(e){e>=0&&e<i.length&&"Main-image"===i[e].id&&(t=e,u(),a.style.display="block"),window}function o(){a.style.display="none",s&&(s.style.opacity="",s.style.border="none")}function r(t){s&&(s.style.opacity="",s.style.border="none"),t.style.opacity="0.5",t.style.border="2px solid #ff7e1b",s=t}function u(){const{src:e,alt:s,class:a}=i[t];l.src=e,l.alt=s,l.className=a;r(n.querySelector(`[data-index="${t}"]`))}function g(e){t=(t+e+i.length)%i.length,u(),c(t)}!function(t){t.forEach(((t,e)=>{let i=document.createElement("img");i.src=t.src,i.id=t.id.trim(),i.alt=t.alt,i.className=`${t.className} grid-image`,i.setAttribute("data-index",e),n.appendChild(i),i.addEventListener("click",(function(){"Main-image"===i.id?d(e):c(e),r(i)}))}))}(i),document.querySelector(".close").addEventListener("click",o),document.querySelector(".prev").addEventListener("click",(()=>g(-1))),document.querySelector(".next").addEventListener("click",(()=>g(1))),document.querySelector(".Gprev").addEventListener("click",(()=>g(-1))),document.querySelector(".Gnext").addEventListener("click",(()=>g(1))),window.onclick=t=>{t.target===a&&o()}},new function(){window.addEventListener("click",(function(t){n.contains(t.target)?(a.classList.toggle("hidden"),a.classList.toggle("cartAnim")):a.contains(t.target)||!s.contains(t.target)||a.classList.contains("hidden")||a.classList.add("hidden")}));const t=t=>c.find((e=>e.id.toString()===t.toString()));i.addEventListener("click",(e=>{let i=e.target;if(i.classList.contains("plus")||i.classList.contains("minus")){let e=i.closest(".item"),s=e.dataset.id,n=t(s),a=e.querySelector(".div-25 span"),l=parseInt(a.textContent,0);i.classList.contains("plus")?l+=1:l>1&&i.classList.contains("minus")&&(l-=1),a.textContent=l.toString(),n.quantity=l}})),i.addEventListener("click",(s=>{let n=s.target.closest(".addtoCart");if(n){(s=>{let n=t(s);if(n.quantity<1)return void console.error("Cannot add to cart: Product quantity is less than 1");let a=d.findIndex((t=>t.product_id===s));a>-1?d[a].quantity+=n.quantity:d.push({product_id:s,quantity:n.quantity}),n.quantity=1,o(),e();let l=i.querySelector(`.item[data-id="${s}"]`);l&&(l.querySelector(".div-25 span").textContent="1")})(n.closest(".item").dataset.id)}}));const e=()=>{localStorage.setItem("cart",JSON.stringify(d))},o=()=>{s.innerHTML="";let t=d.reduce(((t,e)=>t+e.quantity),0);d.length>0?d.forEach((t=>{let e=c.find((e=>e.id==t.product_id));if(!e)return void console.error(`Product with ID ${t.product_id} not found.`);let i=`\n                <div class="item" data-id="${t.product_id}">\n                    <div class="image">\n                        <img src="${e.image??"default-placeholder.png"}">\n                    </div>\n                    <div class="name">${e.name}</div>\n                    <div class="price">$${e.price}</div>\n                    <div class="quantity">\n                    <span>x${t.quantity}</span>\n                </div>\n                    <div class="totalPrice"><p>$${(e.price*t.quantity).toFixed(2)}</p></div>\n                 \n                        <span class="minus"><img src="${e.delete??"default-placeholder.png"}"></span>\n            \n                </div>`;s.insertAdjacentHTML("beforeend",i),console.log(c)})):s.innerHTML="<p>Your cart is empty.</p>",0===t?l.classList.add("hidden"):(l.classList.remove("hidden"),l.textContent=t.toString())};s.addEventListener("click",(t=>{let e=t.target.closest(".item")?.dataset.id;if(!e)return;let i=t.target.classList.contains("plus")?"plus":"minus";r(e,i)})),s.addEventListener("click",(t=>{let e=t.target;if(e.classList.contains("minus")||e.classList.contains("plus")){let t=e.parentElement.parentElement.dataset.id,i="minus";e.classList.contains("plus")&&(i="plus"),r(t,i)}}));const r=(t,i)=>{let s=d.findIndex((e=>e.product_id==t));if(s>=0){d[s];if("plus"===i)d[s].quantity=d[s].quantity+1;else{let t=d[s].quantity-1;t>0?d[s].quantity=t:d.splice(s,1)}}o(),e()};console.log(c),fetch("../../../data/products.json").then((t=>t.json())).then((t=>{c=t,i.innerHTML="",c.quantity=0,c.length>=0&&c.forEach((t=>{let e=document.createElement("div");e.dataset.id=t.id,e.classList.add("item"),e.innerHTML=`\n                <div class="div-17">${t.title}</div>\n\n                <div class="div-18">${t.name}</div>\n                <div class="div-19">\n                  ${t.description}\n                </div>\n                <div class="discount">\n                    <ul class="div-20">\n                     <li class="div-21">$${t.price}</li>  \n                     <li class="div-22">${t.discout_50}%</li>\n                    </ul>\n                   <div class="div-23">$250.00</div>\n                </div>\n                <div class="div-24">\n                  <div class="div-25">\n                    <img\n                      loading="lazy"\n                      src="../../../assets/icon-minus.svg"\n                      class="minus"\n                    />\n                    <span>0</span>\n                    <img\n                      loading="lazy"\n                      src="../../../assets/icon-plus.svg"\n                      class="plus"\n                    />\n                  </div>\n                  <button class="addtoCart">\n                    <img\n                      loading="lazy"\n                      src="../../../assets/icon-addcart.svg"\n                      class="img-11"\n                    />\n                    <h1>Add to cart</h1>\n                  </button>\n                  </di>`,i.appendChild(e)})),localStorage.getItem("cart")&&(d=JSON.parse(localStorage.getItem("cart")),o())})).catch((t=>console.error("Failed to load products:",t)))}})();